{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "saas heaven post-mortem",
  "type": "object",
  "required": ["slug", "name", "tagline", "snapshot", "author", "death", "tech_stack", "story", "links"],
  "properties": {
    "slug": {
      "type": "string",
      "pattern": "^[a-z0-9-]+$"
    },
    "name": { "type": "string" },
    "tagline": { "type": "string" },
    "snapshot": {
      "type": "object",
      "required": ["peak_mrr", "total_users", "raised", "duration"],
      "properties": {
        "peak_mrr": { "type": ["number","null"] },
        "total_users": { "type": ["number","null"] },
        "raised": { "type": ["number","null"] },
        "duration": {
          "type": "object",
          "required": ["start","end"],
          "properties": {
            "start": { "type": "string" },
            "end": { "type": "string" }
          }
        }
      }
    },
    "author": {
      "type": "object",
      "required": ["name","bio"],
      "properties": {
        "name": { "type": "string" },
        "bio": { "type": "string" }
      }
    },
    "death": {
      "type": "object",
      "required": ["reason"],
      "properties": { "reason": { "type": "string" } }
    },
    "tech_stack": {
      "type": "array",
      "items": { "type": "string" }
    },
    "links": {
      "type": "object",
      "required": ["source_code"],
      "properties": {
        "source_code": { "type": "string" },
      }
    },
    "story": {
      "type": "object",
      "required": ["idea","what_went_wrong","lessons_learned","whats_next"],
      "properties": {
        "idea": { "type": "string" },
        "what_went_wrong": { "type": "string" },
        "lessons_learned": {
          "type": "array",
          "items": { "type": "string" }
        },
        "whats_next": { "type": "string" }
      }
    }
  }
}
